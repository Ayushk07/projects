 <tr valign="top">
                <th scope="row" class="titledesc">
                    <label for="custom_image_upload_button"><?php _e( 'Slider Images', 'geodirlocation' ); ?></label>
                </th>
                
                <td class="formin">
                    <div class="custom-images">
                    <input type="button" class="button custom-image-upload-button" value="Upload Images">
                        <ul class="custom-uploaded-images-container">
                        <?php
                        // Extract the image IDs from the serialized string
                        $image_ids = unserialize($seo->selected_images);
                        if (!empty($image_ids)) {
                            foreach ($image_ids as $image_id) {
                                $image_url = wp_get_attachment_image_url($image_id, 'thumbnail');
                                echo '<li><input type="hidden" name="locationimage[]" class="custom-uploaded-images" value="' . $image_id . '"><img src="' . $image_url . '" width="100" height="100"> <button class="button fetch-remove-image" data-id="' . $image_id . '">Remove</button></li>';
                            }
                        } 
                        ?>
                        </ul>
                    </div>
                    </td>
                    <div class="preview-images-container">
                        <div class="preview-images"></div>
                    </div>
                </td>
            </tr> 
            <script>
                jQuery(document).ready(function($) {
                    $(document).on('click', '.custom-image-upload-button', function(e) {
                        e.preventDefault();
                        var custom_uploader = wp.media({
                            title: 'Upload Images',
                            button: {
                                text: 'Select Images'
                            },
                            multiple: true
                        });
                        custom_uploader.on('select', function() {
                            var attachments = custom_uploader.state().get('selection').toJSON();
                        
                            var imagesContainer = jQuery('.custom-uploaded-images-container');
                            var previewContainer = jQuery('.preview-images');
                            var imagesInput = jQuery('.custom-images-container').find('.custom-uploaded-images');
                            var storedImages = JSON.parse(imagesInput.val() || '[]');
                            
                            
                            if (attachments.length > 0) {
                                for (var i = 0; i < attachments.length; i++) {
                                    var attachment = attachments[i];
                                    console.log("attachment", attachment);
                                    if (storedImages.indexOf(attachment.id) === -1) {
                                        storedImages.push(attachment.id);
                                        var imageItem = $('<li><input type="hidden" name="locationimage[]" value="' + attachment.id + '"><img src="' + attachment.url + '" width="100" height="100"> <button class="button remove-image" data-id="' + attachment.id + '">Remove</button></li>');
                                        imagesContainer.append(imageItem);
                                    }
                                }
                                imagesInput.val(JSON.stringify(storedImages));
                            }
                        });
                        custom_uploader.open();
                    });
                        $(document).on('click', '.remove-image', function(e) {
                        e.preventDefault();
                        jQuery(this).parent().remove(); 
                    });
                    $(document).on('click', '.fetch-remove-image', function(e) {
                        e.preventDefault();
                        jQuery(this).parent().remove(); 
                    });
                });
            </script>
